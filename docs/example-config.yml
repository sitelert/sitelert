global:
  scrape_bind: "0.0.0.0:8080"
  log_level: "info"
  default_timeout: "5s"
  default_interval: "30s"
  worker_count: 10
  jitter: "200ms"

services:
  - id: "homepage"
    name: "Company Website"
    type: "http"
    url: "https://example.com"
    interval: "30s"
    timeout: "5s"
    expected_status: [200, 301, 302]

  - id: "ssh"
    name: "Home Server SSH"
    type: "tcp"
    host: "127.0.0.1"
    port: 2222
    interval: "15s"
    timeout: "2s"

alerting:
  channels:
    discord_main:
      type: "discord"
      webhook_url: "https://discord.invalid/webhook" # stub
    slack_ops:
      type: "slack"
      webhook_url: "https://slack.invalid/webhook"   # stub

  routes:
    - match:
        service_ids: ["homepage"]
      policy:
        failure_threshold: 3
        cooldown: "10m"
        recovery_alert: true
      notify: ["discord_main"]

    - match:
        service_ids: ["ssh"]
      policy:
        failure_threshold: 1
        cooldown: "1m"
        recovery_alert: true
      notify: ["slack_ops"]